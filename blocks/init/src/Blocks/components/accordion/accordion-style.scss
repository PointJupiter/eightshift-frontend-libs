$accordion: (
	site-padding: $container-gutter,
	theme: (
		light: (
			border-color: global-settings(colors, mercury),
			background-color: global-settings(colors, white),
			active-background-color: global-settings(colors, concrete),
		),
		dark: (
			border-color: global-settings(colors, mercury),
			background-color: global-settings(colors, sand),
			active-background-color: global-settings(colors, nickel),
		),
	),
	icon-size: 30px,
);

.accordion {
	$this: &;
	position: relative;

	&--type-contained {
		margin-bottom: -1px;
	}

	&--theme-light {
		border-top: 1px solid map-get-deep($accordion, theme, light, border-color);

		&#{$this}--type-contained {
			border: 1px solid map-get-deep($accordion, theme, light, border-color);

			.accordion {
				border-left: none;
				border-right: none;
			}
		}

		&[data-accordion-opened='true'] {
			> #{$this}__trigger {
				background-color: map-get-deep($accordion, theme, light, active-background-color);
			}

			> #{$this}__panel {
				background-color: map-get-deep($accordion, theme, light, active-background-color);
			}
		}

		#{$this}__panel {
			background-color: map-get-deep($accordion, theme, light, background-color);
		}

		#{$this}__trigger {
			background-color: map-get-deep($accordion, theme, light, background-color);
		}
	}

	&--theme-dark {
		border-top: 1px solid map-get-deep($accordion, theme, dark, border-color);

		&#{$this}--type-contained {
			border: 1px solid map-get-deep($accordion, theme, dark, border-color);

			.accordion {
				border-left: none;
				border-right: none;
			}
		}

		&[data-accordion-opened='true'] {
			> #{$this}__trigger {
				background-color: map-get-deep($accordion, theme, dark, active-background-color);
			}

			> #{$this}__panel {
				background-color: map-get-deep($accordion, theme, dark, active-background-color);
			}
		}

		#{$this}__panel {
			background-color: map-get-deep($accordion, theme, dark, background-color);
		}

		#{$this}__trigger {
			background-color: map-get-deep($accordion, theme, dark, background-color);
		}
	}

	&[data-accordion-opened='true'] {
		> #{$this}__trigger {
			#{$this}__icon--minus {
				opacity: 1;
			}

			#{$this}__icon--plus {
				opacity: 0;
			}
		}

		> #{$this}__panel {
			max-height: 1500px;
		}
	}

	&__panel {
		display: block;
		max-height: 0;
		overflow: hidden;

		transition: {
			property: max-height, background-color;
			timing-function: ease-in;
			duration: 0.3s;
		}
	}

	&__trigger {
		@extend %button-reset;
		width: 100%;
		position: relative;
		text-align: left;
		cursor: pointer;
		transition: {
			property: background-color;
			timing-function: ease-in;
			duration: 0.3s;
		}
		padding: {
			top: 20px;
			left: map-get-deep($accordion, site-padding, default);
			bottom: 20px;
			right: map-get-deep($accordion, site-padding, default) + map-get-strict($accordion, icon-size) + 20px;
		}
		font-size: 18px;
		line-height: 1.4;

		@include media(tablet up) {
			font-size: 22px;
			line-height: 1.45;
		}

		&:active {
			color: inherit;
		}

		@include media(desktop up) {
			padding-left: map-get-deep($accordion, site-padding, big);
			padding-right: map-get-deep($accordion, site-padding, big) + map-get-strict($accordion, icon-size) + 20px;
		}
	}

	&__icon {
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
		height: map-get-strict($accordion, icon-size);
		width: map-get-strict($accordion, icon-size);
		pointer-events: none;
		right: map-get-deep($accordion, site-padding, default);

		@include media(desktop up) {
			right: map-get-deep($accordion, site-padding, big);
		}

		&--plus,
		&--minus {
			transition: {
				property: opacity;
				timing-function: ease-in;
				duration: 0.3s;
			}
		}

		&--minus {
			opacity: 0;
		}
	}

	&__content {
		@extend %container-gutter;
		padding-top: 25px;
		padding-bottom: 25px;
	}
}
