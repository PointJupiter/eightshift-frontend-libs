// Mixin creates output for specific map key, with provided media breakpoints.
// Selectors must be valid html selectors.
@mixin responsive($map, $selector) {
  $i: 0;

  @each $breakpoint, $breakpointMap in map-get-strict($map, $selector) {
    @if (type-of($breakpointMap) == 'map') {
      @if $i == 0 {
        @each $cssSelector, $cssValue in $breakpointMap {
          #{$cssSelector}: $cssValue;
        }
      }

      @else {
        @include media(#{$breakpoint} up) {
          @each $cssSelector, $cssValue in $breakpointMap {
            #{$cssSelector}: $cssValue;
          }
        }
      }
    }

    @else {
      @error 'ERROR: Responsive Map breakpointMap items are not map please check: #{$map} with key: #{breakpointMap}';
    }
    $i: $i + 1;
  }
}


// Usage.
// $res-map: (
//   paragraph: (
//     mobile: (
//       font-size: 10px,
//       line-height: 1,
//       margin: 10px,
//     ),
//     tablet: (
//       font-size: 20px,
//       line-height: 2,
//       margin: 20px,
//     ),
//     desktop: (
//       font-size: 30px,
//       line-height: 3,
//       margin: 30px,
//     ),
//   ),
// );

// Selector.
// .paragraph {
//   @include responsive($res-map, paragraph);
// }

// Output.
// .paragraph {
//   font-size: 10px;
//   line-height: 1;
//   margin: 10px;
// }
// @media (min-width: 768px) {
//   .paragraph {
//     font-size: 20px;
//     line-height: 2;
//     margin: 20px;
//   }
// }
// @media (min-width: 992px) {
//   .paragraph {
//     font-size: 30px;
//     line-height: 3;
//     margin: 30px;
//   }
// }
